DEBUG = <%= @debug ? "True" : "False" %>

DATABASES = {
	<% @databases.each do |name,db| -%>
    '<%= name %>': {
        'NAME': '<%= db[:database] %>',
        'ENGINE': 'django.db.backends.<%= db[:engine] %>',
        'USER': '<%= db[:username] %>',
        'PASSWORD': '<%= db[:password] %>',
        'HOST': '<%= db.fetch :host, @default_database_host %>',
        'PORT': '<%= db[:port]  %>',
        <% if db[:options] -%>
        'OPTIONS': {
        	<% db[:options].each do |key,value|  -%>
        	'<%= key %>': "<%= value %>",
        	<% end %>
	    }
	    <% end -%>
    },
    <% end -%>
}
<% if @legacy_database_settings -%>
DATABASE_ENGINE = DATABASES['default']['ENGINE']
DATABASE_NAME = DATABASES['default']['NAME']
DATABASE_USER = DATABASES['default']['USER']
DATABASE_PASSWORD = DATABASES['default']['PASSWORD']
DATABASE_HOST = DATABASES['default']['HOST']
DATABASE_PORT = DATABASES['default']['PORT']
DATABASE_OPTIONS = DATABASES['default'].get('OPTIONS', {})
<% end -%>
